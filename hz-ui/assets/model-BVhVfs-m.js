import{cA as b,g as y,r as d,v as r}from"./index-x4baBB9A.js";const h=b("modelConfigs",()=>{const{proxy:s}=y(),a=d([]),i=r(()=>a.value.reduce((e,t)=>(e[t.name]=t,e),{})),c=r(()=>a.value.reduce((e,t)=>(e[t.id]=t,e),{})),p=r(()=>a.value.map(e=>({label:e.verbose_name,value:e.id}))),v=e=>{a.value=e},g=async(e=!1)=>{if(!e&&a.value.length>0)return;let t=await s.$api.getCiModel();a.value=t.data.results},l=d([]),m=r(()=>l.value.reduce((e,t)=>(e[t.id]=t,e),{})),f=r(()=>l.value.filter(e=>e.type==="enum").reduce((e,t)=>{try{let n=JSON.parse(t.rule),u=[];Object.keys(n).forEach(o=>{u.push({value:o,label:n[o]})}),e[t.id]=u}catch(n){console.warn("Failed to parse rule for item:",t.id,n)}return e},{}));return{allModels:a,modelObjectByName:i,modelObjectById:c,modelOptions:p,getModel:g,updateAllModels:v,validationRules:l,validationRulesObjectById:m,validationRulesEnumOptionsObject:f,getValidationRules:async(e=!1)=>{if(!e&&l.value.length>0)return;let t=await s.$api.getValidationRules({page_size:2e3,page:1});l.value=t.data.results},updateValidationRules:e=>{l.value=e}}},{persist:!0});export{h as m};
