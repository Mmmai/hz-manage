import{aW as m,r as v,f as A,A as h}from"./index-Cz_bWT0-.js";const K=m("keepalive",()=>{const e=v([]);return{keepAliveName:e,addKeepAliveName:async t=>{!e.value.includes(t)&&e.value.push(t)},removeKeepAliveName:async t=>{e.value=e.value.filter(d=>d!==t)},setKeepAliveName:async t=>{e.value=t}}},{persist:!0}),i=K(),_=m("tabs",()=>{const e=v([]),p=A(),c=v(""),f=v(""),t=h(()=>{let l={};return e.value.forEach(n=>{l[n.path]=n}),l});return{tabsMenuList:e,closeTabsOnSide:(l,n)=>{const a=e.value.findIndex(s=>s.fullPath===l);if(a!==-1){const s=n==="left"?[0,a]:[a+1,e.value.length];e.value=e.value.filter((r,u)=>u<s[0]||u>=s[1]||r.name=="home")}const o=e.value.filter(s=>s.isKeepAlive);i.setKeepAliveName(o.map(s=>s.name))},closeMultipleTab:l=>{e.value=e.value.filter(a=>a.path===l||a.name=="home");const n=e.value.filter(a=>a.isKeepAlive);i.setKeepAliveName(n.map(a=>a.name))},addTabs:l=>{if(l.name==="logFlowMission_info"){console.log("名字一致");let n=e.value.findIndex(a=>a.name===l.name);n!==-1?e.value.splice(n,1,l):e.value.push(l);return}e.value.every(n=>n.path!==l.path)&&e.value.push(l),!i.keepAliveName.includes(l.name)&&l.isKeepAlive&&i.addKeepAliveName(l.name)},removeTabs:(l,n=!0)=>{const a=e.value.find(s=>s.path===l);a!=null&&a.isKeepAlive&&i.removeKeepAliveName(a.name),n&&e.value.forEach((s,r)=>{if(s.path!==l)return;const u=e.value[r+1]||e.value[r-1];u&&(u.name==="model_info"?p.push(u.fullPath):p.push(u.path))});let o=[];e.value.filter(s=>{s.path!==l&&s.fullPath!==l&&o.push(s)}),e.value=o,console.log(e.value)},tabsMenuDict:t,currentTitle:c,updateCurrentTitle:async l=>{c.value=l.title,f.value=l.name.split("_")[0]},currentMenu:f,setTabs:l=>{e.value=l}}},{persist:!0});export{K as a,_ as u};
