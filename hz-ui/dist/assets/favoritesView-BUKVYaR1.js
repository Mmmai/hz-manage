import{_ as O,g as q,j as A,r as i,v as T,z as W,h as n,c as C,o as u,f as t,w as o,bU as H,b as k,q as _,B as w,F as J,i as K,aR as Q,t as m,k as X,bW as Y,m as Z}from"./index-x4baBB9A.js";import{s as I}from"./vue-draggable-plus-BpoPWfEo.js";const ee={class:"card"},te={style:{"font-size":"20px","font-weight":"bold",width:"200px"}},oe=Object.assign({name:"favorites"},{__name:"favoritesView",setup(ae){const{proxy:x}=q(),V=A(),z=()=>{V.push({name:"portal"})},f=i(["所有"]),L=i([]),c=i("所有"),U=async()=>{let a=await x.$api.pgroupGet();L.value=a.data.results,f.value=["所有"],a.data.results.forEach(e=>{f.value.push(e.group)})},p=i([]),B=async()=>{let a=await x.$api.portalGet({page:1,page_size:1e3});p.value=a.data.results},D=a=>{let e=0;for(let s=0;s<a.length;s++)e=a.charCodeAt(s)+((e<<5)-e);let d="#";for(let s=0;s<3;s++){let v=e>>s*8&255;d+=("00"+v.toString(16)).slice(-2)}return d},G=a=>{window.open(a.url,"_blank")},r=i(""),N=T(()=>p.value.filter(a=>{let e=!0;return c.value==="所有"?(e=!0,r.value===""?e=!0:e=a.name.toLowerCase().includes(r.value.toLowerCase())):(e=a.group_name.includes(c.value),e&&(r.value===""?e=!0:e=a.name.toLowerCase().includes(r.value.toLowerCase()))),e})),P=a=>{c.value=a};W(()=>{console.log(99999),B(),U()});const $=()=>{console.log(p.value)};return(a,e)=>{const d=n("el-segmented"),s=n("el-col"),v=n("el-input"),b=n("el-link"),h=n("el-row"),j=n("el-divider"),F=n("el-avatar"),R=n("el-text"),y=n("el-tooltip"),g=n("el-space"),S=n("el-card"),E=n("el-scrollbar");return u(),C("div",ee,[t(E,null,{default:o(()=>[t(h,{justify:"space-between"},{default:o(()=>[t(s,{span:18,class:"group-class"},{default:o(()=>[e[2]||(e[2]=k("span",{style:{display:"flex","align-items":"center","margin-right":"10px"}},"分组",-1)),t(d,{modelValue:c.value,"onUpdate:modelValue":e[0]||(e[0]=l=>c.value=l),options:f.value,size:"large"},null,8,["modelValue","options"])]),_:1}),t(s,{span:4},{default:o(()=>[t(v,{modelValue:r.value,"onUpdate:modelValue":e[1]||(e[1]=l=>r.value=l),style:{width:"200px"},placeholder:"过滤器",clearable:""},null,8,["modelValue"])]),_:1}),t(s,{span:1},{default:o(()=>[t(b,{type:"primary",onClick:z},{default:o(()=>[...e[3]||(e[3]=[_("添加",-1)])]),_:1})]),_:1})]),_:1}),t(j),H((u(),w(g,{wrap:"",size:30},{default:o(()=>[(u(!0),C(J,null,K(N.value,(l,le)=>(u(),w(S,{key:l.id,class:"box-card",style:{width:"300px",height:"120px"},shadow:"hover",onClick:M=>G(l)},{default:o(()=>[t(y,{class:"box-item",effect:"light",content:l.url,placement:"bottom"},{default:o(()=>[t(g,{direction:"vertical",alignment:"end"},{default:o(()=>[t(h,null,{default:o(()=>[t(s,{span:8},{default:o(()=>[t(F,{style:Q({"background-color":D(l.id+l.name),"font-size":"28px"}),size:60},{default:o(()=>[_(m(l.name.slice(0,1).toUpperCase()),1)]),_:2},1032,["style"])]),_:2},1024),t(s,{span:12},{default:o(()=>[t(g,{direction:"vertical"},{default:o(()=>[k("span",te,m(l.name),1),l.describe!==""?(u(),w(y,{key:0,class:"box-item",effect:"light",content:l.describe,placement:"bottom"},{default:o(()=>[t(R,{class:"describe-class",type:"info"},{default:o(()=>[_(m(l.describe),1)]),_:2},1024)]),_:2},1032,["content"])):X("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024),t(b,{type:"info",onClick:Y(M=>P(l.group_name),["stop"])},{default:o(()=>[_(m(l.group_name),1)]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1032,["content"])]),_:2},1032,["onClick"]))),128))]),_:1})),[[Z(I),[p.value,{animation:150,onUpdate:$}]]])]),_:1})])}}}),re=O(oe,[["__scopeId","data-v-56e54930"]]);export{re as default};
