import{cE as h,r as o,j as m,v as T}from"./index-BSX4TNZE.js";import{u as A}from"./keepAlive-C2W7CCRc.js";const t=A(),E=h("tabs",()=>{const l=o([]),f=m(),c=o(""),v=o([]),p=o(""),d=T(()=>{let e={};return l.value.forEach(n=>{e[n.path]=n}),e});return{tabsMenuList:l,closeTabsOnSide:(e,n)=>{const s=l.value.findIndex(u=>u.fullPath===e);if(s!==-1){const u=n==="left"?[0,s]:[s+1,l.value.length];l.value=l.value.filter((r,a)=>a<u[0]||a>=u[1]||r.name=="home")}const i=l.value.filter(u=>u.isKeepAlive);t.setKeepAliveName(i.map(u=>u.name))},closeMultipleTab:e=>{l.value=l.value.filter(s=>s.path===e||s.name=="home");const n=l.value.filter(s=>s.isKeepAlive);t.setKeepAliveName(n.map(s=>s.name))},addTabs:e=>{if(e.name==="logFlowMission_info"){let n=l.value.findIndex(s=>s.name===e.name);n!==-1?l.value.splice(n,1,e):l.value.push(e);return}if(e.hasInfo){let n=l.value.findIndex(s=>s.title===e.title);n!==-1&&l.value.splice(n,1,e)}l.value.every(n=>n.path!==e.path)&&l.value.push(e),!t.keepAliveName.includes(e.name)&&e.isKeepAlive&&t.addKeepAliveName(e.name)},removeTabs:(e,n=!0)=>{const s=l.value.find(u=>u.path===e);s!=null&&s.isKeepAlive&&t.removeKeepAliveName(s.name),n&&l.value.forEach((u,r)=>{if(u.path!==e)return;const a=l.value[r+1]||l.value[r-1];a&&f.push(a.fullPath)});let i=[];l.value.filter(u=>{u.path!==e&&u.fullPath!==e&&i.push(u)}),l.value=i,console.log(l.value)},tabsMenuDict:d,currentTitle:c,updateCurrentTitle:async e=>{c.value=e.title,p.value=e.name.split("_")[0],e.name==="home"?v.value=[]:v.value=e.menuPath},currentMenu:p,setTabs:e=>{l.value=e},currentBreadcrumb:v}},{persist:!0});export{E as u};
