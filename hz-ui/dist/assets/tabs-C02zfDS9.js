import{aW as m,r as v,f as A,A as h}from"./index-iGnbKzkN.js";const K=m("keepalive",()=>{const e=v([]);return{keepAliveName:e,addKeepAliveName:async t=>{!e.value.includes(t)&&e.value.push(t)},removeKeepAliveName:async t=>{e.value=e.value.filter(d=>d!==t)},setKeepAliveName:async t=>{e.value=t}}},{persist:!0}),o=K(),_=m("tabs",()=>{const e=v([]),p=A(),c=v(""),f=v(""),t=h(()=>{let l={};return e.value.forEach(n=>{l[n.path]=n}),l});return{tabsMenuList:e,closeTabsOnSide:(l,n)=>{const s=e.value.findIndex(a=>a.fullPath===l);if(s!==-1){const a=n==="left"?[0,s]:[s+1,e.value.length];e.value=e.value.filter((r,u)=>u<a[0]||u>=a[1]||r.name=="home")}const i=e.value.filter(a=>a.isKeepAlive);o.setKeepAliveName(i.map(a=>a.name))},closeMultipleTab:l=>{e.value=e.value.filter(s=>s.path===l||s.name=="home");const n=e.value.filter(s=>s.isKeepAlive);o.setKeepAliveName(n.map(s=>s.name))},addTabs:l=>{if(l.name==="logFlowMission_info"){console.log("名字一致");let n=e.value.findIndex(s=>s.name===l.name);n!==-1?e.value.splice(n,1,l):e.value.push(l);return}e.value.every(n=>n.path!==l.path)&&e.value.push(l),!o.keepAliveName.includes(l.name)&&l.isKeepAlive&&o.addKeepAliveName(l.name)},removeTabs:(l,n=!0)=>{n&&e.value.forEach((a,r)=>{if(a.path!==l)return;const u=e.value[r+1]||e.value[r-1];u&&(u.name==="model_info"?p.push(u.fullPath):p.push(u.path))});let s=[];e.value.filter(a=>{a.path!==l&&a.fullPath!==l&&s.push(a)}),e.value=s,console.log(e.value);const i=e.value.find(a=>a.path===l);i!=null&&i.isKeepAlive&&o.removeKeepAliveName(i.name)},tabsMenuDict:t,currentTitle:c,updateCurrentTitle:async l=>{c.value=l.title,f.value=l.name.split("_")[0]},currentMenu:f,setTabs:l=>{e.value=l}}},{persist:!0});export{K as a,_ as u};
