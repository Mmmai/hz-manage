import{cx as h,r as o,f as m,l as T}from"./index-BuQNgUX_.js";import{u as A}from"./keepAlive-CLEltDlF.js";const t=A(),b=h("tabs",()=>{const l=o([]),c=m(),p=o(""),v=o([]),f=o(""),d=T(()=>{let e={};return l.value.forEach(u=>{e[u.path]=u}),e});return{tabsMenuList:l,closeTabsOnSide:(e,u)=>{const s=l.value.findIndex(n=>n.fullPath===e);if(s!==-1){const n=u==="left"?[0,s]:[s+1,l.value.length];l.value=l.value.filter((r,a)=>a<n[0]||a>=n[1]||r.name=="home")}const i=l.value.filter(n=>n.isKeepAlive);t.setKeepAliveName(i.map(n=>n.name))},closeMultipleTab:e=>{l.value=l.value.filter(s=>s.path===e||s.name=="home");const u=l.value.filter(s=>s.isKeepAlive);t.setKeepAliveName(u.map(s=>s.name))},addTabs:e=>{if(e.name==="logFlowMission_info"){let u=l.value.findIndex(s=>s.name===e.name);u!==-1?l.value.splice(u,1,e):l.value.push(e);return}e.isInfo||(l.value.every(u=>u.path!==e.path)&&l.value.push(e),!t.keepAliveName.includes(e.name)&&e.isKeepAlive&&t.addKeepAliveName(e.name))},removeTabs:(e,u=!0)=>{const s=l.value.find(n=>n.path===e);s!=null&&s.isKeepAlive&&t.removeKeepAliveName(s.name),u&&l.value.forEach((n,r)=>{if(n.path!==e)return;const a=l.value[r+1]||l.value[r-1];a&&(a.name==="model_info"?c.push(a.fullPath):c.push(a.path))});let i=[];l.value.filter(n=>{n.path!==e&&n.fullPath!==e&&i.push(n)}),l.value=i,console.log(l.value)},tabsMenuDict:d,currentTitle:p,updateCurrentTitle:async e=>{p.value=e.title,f.value=e.name.split("_")[0],e.name==="home"?v.value=[]:v.value=e.menuPath},currentMenu:f,setTabs:e=>{l.value=e},currentBreadcrumb:v}},{persist:!0});export{b as u};
